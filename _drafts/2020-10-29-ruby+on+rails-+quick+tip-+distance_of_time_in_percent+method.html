---
layout: post
title: 'Ruby on Rails: Quick tip: distance_of_time_in_percent method'
date: '2020-10-29T17:13:00.001+01:00'
author: yaro_the_slav
tags: 
modified_time: '2020-10-29T17:13:15.852+01:00'
thumbnail: https://lh3.googleusercontent.com/-n-D-2lOycQo/X5rp5U2ASYI/AAAAAAACFJw/Iu4rTg0PMn024ySS6G_RSYwfSIANssKlQCLcBGAsYHQ/s72-c/image.png
blogger_id: tag:blogger.com,1999:blog-5936476238571675194.post-4234308261857439706
---

<p>Wouldn't it be cool a progress bar to see how much you have left of your Netflix subscription?</p><p></p><div class="separator" style="clear: both; text-align: center;"><a href="https://lh3.googleusercontent.com/-n-D-2lOycQo/X5rp5U2ASYI/AAAAAAACFJw/Iu4rTg0PMn024ySS6G_RSYwfSIANssKlQCLcBGAsYHQ/image.png" style="margin-left: 1em; margin-right: 1em;"><img alt="" data-original-height="102" data-original-width="648" height="50" src="https://lh3.googleusercontent.com/-n-D-2lOycQo/X5rp5U2ASYI/AAAAAAACFJw/Iu4rTg0PMn024ySS6G_RSYwfSIANssKlQCLcBGAsYHQ/image.png" width="320" /></a></div><p></p><p>We all know the <b>d</b><span style="white-space: pre-wrap;"><b>istance_of_time_in_words </b>method.</span></p><p><span style="white-space: pre-wrap;">Now, we want something like </span><b>d</b><span style="white-space: pre-wrap;"><b>istance_of_time_in_percent.</b></span></p><p><span style="white-space: pre-wrap;">Here's a quick way to do it:</span></p><p>add this to <b>application_helper</b>:</p><pre style="overflow-wrap: break-word; white-space: pre-wrap;">def distance_of_time_in_percent(from_time, current_time, to_time, options = {})</pre><pre style="overflow-wrap: break-word; white-space: pre-wrap;">  options[:precision] ||= 0<br />  options = options_with_scope(options)<br />  distance = to_time - from_time<br />  result = ((current_time - from_time) / distance) * 100<br />  number_with_precision(result, options).to_s + '%'<br />end</pre><pre style="overflow-wrap: break-word; white-space: pre-wrap;"><pre style="overflow-wrap: break-word; white-space: pre-wrap;"><span style="font-family: &quot;Times New Roman&quot;;">Voila! Now you can run something like: </span></pre></pre><pre style="overflow-wrap: break-word; white-space: pre-wrap;">&gt;&gt; distance_of_time_in_percent("01-01-2020".to_time, "31-06-202020".to_time, "31-12-2020".to_time, precision: 1)<br />=&gt; '49.9%'</pre><pre style="overflow-wrap: break-word; white-space: pre-wrap;"><a href="https://github.com/radar/distance_of_time_in_words" target="_blank">Source</a></pre>